<html>
	<head>
		<script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
		<script type="module" src="../node_modules/@polymer/iron-input/iron-input.js"></script>
		<script type="module" src="../node_modules/@polymer/paper-styles/demo-pages.js"></script>
		<script type="module" src="../node_modules/@polymer/polymer/lib/elements/dom-bind.js"></script>
		<script type="module" src="../paper-chips.js"></script>
	</head>

	<body>
		<dom-bind>
			<template>
				<paper-chips id="chips" items="[[fruits]]" empty="{{empty}}" on-delete-item="onRemove"></paper-chips><br>
				
				<iron-input bind-value="{{newFruit}}"><input></input></iron-input>

				<button on-tap="onAdd">Add</button>
				<button on-tap="onRemoveLast">Remove last chip</button><br>
				Is empty? [[empty]]
			</template>
		</dom-bind>

		<script>
			var scope = document.querySelector('dom-bind');
			scope.fruits = [
				{ id: 'apples', name: 'Apples' },
				{ id: 'pears', name: 'Pears' }
			];

			scope.onAdd = function() {
				this.$.chips.add({ name: this.newFruit });
			}
			scope.onRemoveLast = function() {
				this.$.chips.removeLast();
			}
			scope.onRemove = function(e) {
				const {itemId} = e.detail;
				alert(`Removed item: ${itemId}`);
			}
		</script>

	</body>
</html>
